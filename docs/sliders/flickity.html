<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="robots" content="noindex">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<title>Viewer tag - Barney</title>
	<link rel="stylesheet" href="../assets/main.css">

	<!-- Flickity CDN -->
	<link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
	<script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>

	<!-- Barney Viewer API -->
	<script>(function(B,a,r,n,e,y,_3,D){_3=B[e]||(B[e]={}),_3[n]||(_3[n]=function(c)
	{(_3[n].l||(_3[n].l=[])).push(c);}),D=a.createElement(r),D.async=!0,D.src=y,
	a.head.appendChild(D);}(window,document,'script','onReady','Barney',
	'http://192.168.1.71:8080/api.js'));</script>

</head>
<body>

	<div id="wrap">
		
		<h1>Flickity</h1>

		<div class="lorem small"></div>

		<div class="slider">
			<div class="slide">
				<barney-viewer url="http://192.168.1.71:8080/?b3d=/items/redfox/item.b3d" autorotate mouse="cooperative" touch="cooperative" pointer-proxy="flickity"></barney-viewer>
			</div>
			<div class="slide">
				<div class="img"></div>
			</div>
			<div class="slide">
				<div class="img"></div>
			</div>
		</div>

		<div class="lorem large"></div>

	</div>

	<style>
		.slider {
			margin-bottom: 50px;
		}

		.slide {
			width: 100%;
			position: relative;
		}
		.slide::before {
			content: '';
			display: block;
			padding-bottom: 56.25%;
		}
		.slide barney-viewer,
		.slide .img {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
		}

		@media (max-width:600px) {
			.slider {
				margin-left: -20px;
				margin-right: -20px;
			}
			.slide {
				max-height: 75vh;
			}
			.slide::before {
				padding-bottom: 100%;
			}
		}
	</style>

	<script>
		const flkty = new Flickity('.slider', {
			contain: true,
			wrapAround: true,
		})
	</script>


</body>
</html>