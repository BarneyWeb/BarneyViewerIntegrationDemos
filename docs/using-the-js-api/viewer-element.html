<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Barney integration demo</title>
	<link rel="stylesheet" href="../css/main.css">

	<!-- Barney Viewer API -->
	<script>(function(B,a,r,n,e,y,_3,d){_3=B[e]||(B[e]={}),_3[n]||(_3[n]=function(c)
	{(_3[n].l||(_3[n].l=[])).push(c);}),d=a.createElement(r),d.async=!0,d.src=y,
	a.head.appendChild(d);}(window,document,'script','onReady','Barney',
	'http://192.168.1.71:8080/api.js'));</script>
	<!-- End Barney Viewer API -->
	
</head>
<body>

	<div id="wrap">
		
		<h1>API Demo</h1>

		<div id="viewer">
			<!-- Barney Viewer API -->
			<script>(function(B,a,r,n,e,y,_3,d){_3=B[e]||(B[e]={}),_3[n]||(_3[n]=function(c)
			{(_3[n].l||(_3[n].l=[])).push(c);}),d=a.createElement(r),d.async=!0,d.src=y,
			a.head.appendChild(d);}(window,document,'script','onReady','Barney',
			'http://192.168.1.71:8080/api.js'));</script>
			<!-- End Barney Viewer API -->
			<barney-viewer url="http://192.168.1.71:8080/?b3d=/items/redfox/item.b3d" aspect-ratio="4:3" mouse="cooperative-silent"></barney-viewer>
		</div>

		<div class="fakeText -small"></div>

		<div id="viewer2">

			<!-- Barney Viewer API -->
			<script>(function(B,a,r,n,e,y,_3,D){_3=B[e]||(B[e]={}),_3[n]||(_3[n]=function(c)
			{(_3[n].l||(_3[n].l=[])).push(c);}),D=a.createElement(r),D.async=!0,D.src=y,
			a.head.appendChild(D);}(window,document,'script','onReady','Barney',
			'http://192.168.1.71:8080/api.js'));</script>
			<!-- End Barney Viewer API -->

			<barney-viewer url="http://192.168.1.71:8080/?b3d=/items/redfox/item.b3d" aspect-ratio="4:3" mouse="cooperative-silent" pointer-proxy></barney-viewer>
		</div>

		<div id="state"></div>
		<div id="logs"></div>

		<div class="fakeText -large"></div>

		<script>
			Barney.onReady(() => {
				console.log('Barney is ready!')

				console.log(Barney.getViewers())
				console.log(Barney.getViewers('#viewer'))
				console.log(Barney.getViewers(document.getElementById('viewer')))
				console.log(Barney.getViewers(document.getElementsByTagName('barney-viewer')))

				console.log(Barney.getViewer())
				console.log(Barney.getViewer('#viewer'))
				console.log(Barney.getViewer(document.getElementById('viewer')))
				console.log(Barney.getViewer(document.getElementsByTagName('barney-viewer')))

				const viewer = Barney.getViewer()
				viewer.one('start', () => console.log('start'))

			})
		</script>

	</div>

</body>
</html>